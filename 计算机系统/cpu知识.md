> 指令集体系结构
> 逻辑设计和硬件控制语言HCL
> 顺序实现
> 流水线原理
> 流水线实现


# 指令集体系结构(ISA)
## 定义
```
(1) 概念
一个处理器支持的指令和指令的字节级编码就是这个处理器的ISA

ISA 在编译器编写者和处理器设计人之间提供了一个抽象概念层，编译器编写者只需要知道允许哪些指令，以及它们是如何编码的；而处理器设计者必须建造出这些指令的处理器。

可见部分包括：寄存器、存储器、条件码、PC（程序计数器）、程序状态。

(2) 作用
ISA在编译器编写者（CPU软件）和处理器设计人员（CPU硬件）之间提供了一个抽象层
```

#### cpu分支预测、流水线和条件转移
(1)流水线
指令从取值到真正执行的过程划分成多个小步骤(取指、译码、执行、访存、写回)，cpu真正开始执行指令序列时，一步压一步的执行，减少其等待时间。
```
每一步是一个时钟周期，如果级数越多，每个周期执行的就越多，性能就越好（注意！不是越多越好）
1->2->3
   1->2->3
      1->2->3
每个时钟周期都完成一条指令的性能      
```

(2)分支预测
如果猜对了，火车可以直接开往要去的方向
如果猜错了，火车要停下来，然后倒车，然后将车轨扳到正确的方向，然后火车重新开往正确的方向。
如果预测对了，那就不用停下来了
[分支预测](https://www.cnblogs.com/yangecnu/p/4196026.html)

(3)likely和unlikely
```
#define likely(x)  __builtin_expect(!!(x), 1)
#define unlikely(x)    __builtin_expect(!!(x), 0)
//上述源码中采用了内建函数__builtin_expect来进行定义,__builtin_expect函数用来引导gcc进行条件分支预测
```

