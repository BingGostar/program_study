mysqld is the server executable (one of them)   #服务执行工具    
mysql is the command line client  # 客户端工具   查询用
mysqladmin is a maintainance or administrative utility  # 运维和管理工具
//初始化-----（以下都是在root权限下）
https://blog.csdn.net/github_39533414/article/details/80144890 新版本

#初始化
groupadd mysql    //创建mysql组
useradd -g mysql mysql //创建mysql用户，并加入mysql组
cd /usr/local/mysql
mkdir ./data
chown -R mysql:mysql ./
vi /etc/my.cnf     https://www.cnblogs.com/langdashu/p/5889352.html 配置mysql
bin/mysqld --initialize --user=mysql --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data //初始化数据库

#建立服务
cp mysql.server /etc/init.d/mysqld
chmod +x /etc/init.d/mysqld 
chkconfig --add mysqld      添加到系统服务
chkconfig  --list mysqld   检查服务是否生效  

#配置全局环境变量
vi /etc/profile
在 profile 文件底部添加如下两行配置，保存后退出
export PATH=$PATH:/usr/local/mysql/bin:/usr/local/mysql/lib
source /etc/profile

#启动服务
service mysqld start   会启动mysqld_safe（root）和mysqld(mysql)







//远程连接----------
mysql -h 192.168.5.116 -P 3306 -u root -p123456
//启动-------
./bin/mysqld --defaults-file=./my.cnf -u mysql -p    //注意这是启动用户
或者 ./bin/mysql -S .sock -u root -p
//停止------
./bin/mysqladmin -uroot -S /data_dir/malx/sqldata/mysql.sock shutdown
//登陆数据库,会提示你输入密码
mysql -u root -p   //这里默认的是/usr/local/mysql/my.cnf
mysql --defaults-file=my.cnf -u malx -p
//打开数据库
/usr/local/mysql/bin/mysql --defaults-file=/usr/local/mysql/my.cnf -u root -p  //root 超级权限用户
//无需登录，打开服务-------
 ./bin/mysqld_safe --defaults-file=my.cnf --user=mysql --skip-grant-tables
//给与用户权限--------------------
GRANT ALL PRIVILEGES ON *.* TO 'root'@'localhost' IDENTIFIED BY '123456';   #只允许本地root登陆
flush privileges;
//删除用户------------------------
use mysql;
drop user root@'%';           %表示所有地址，但是不包括localhost
drop user root@localhost;
//新建用户--------------------
create user 'malx'@'%' IDENTIFIED by '111';  //注意%代表可以从外网连接
添加完用户后，别忘了赋予权限。
//--flush privileges 
 The MySQL server is running with the --skip-grant-tables option so it cannot execute this statement
//修改密码
set password for root@localhost = password('123456')
或者
格式：mysqladmin -u用户名 -p旧密码 password 新密码。 
//创建数据库


//创建数据表

//查询
select * from cnv_reportresult t where enable=-1 and sampleid in ("CL170407","CL170411");
//严格模式
[mysqld]
sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES
这是就会限制你的长度

### mysqld和mysqld_safe
```
mysqld_safe 作为mysqld 启动脚本，开启了守护mysqld进程的任务

mysqld_safe相当于mysqld的守护进程，当mysqld死了，mysqld_safe会把它拉起

mysqld_safe启动能够为mysqld分配系统资源
```

### 用户管理和权限设置
```
https://www.cnblogs.com/fslnet/p/3143344.html

my.cnf中的user=mysql，表示启动用户是mysql

初始化mysql，用的是root用户，他会给你一个root的初始登陆密码

//修改密码，新版本（话说新版本的好繁琐）
alter user 'root'@'localhost' identified with mysql_native_password by '123456';  
flush privileges;  //刷新

//创建账号密码
CREATE USER `wangwei`@`127.0.0.1` IDENTIFIED BY 'passowrd';

//授予权限
GRANT ALL ON *.* TO `wangwei`@`127.0.0.1` WITH GRANT OPTION;

//删除权限
REVOKE all privileges ON databasename.tablename FROM 'username'@'host';

//修改密码
ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '你的密码';  </pre>

//MySQL8.0中带过期时间用户的创建：
CREATE USER `wangwei`@`127.0.0.1` IDENTIFIED BY 'wangwei' PASSWORD EXPIRE INTERVAL 90 DAY;
GRANT ALL ON *.* TO `wangwei`@`127.0.0.1` WITH GRANT OPTION

```
