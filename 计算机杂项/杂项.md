### 指令集体系结构(ISA)
```
> 指令集体系结构
> 逻辑设计和硬件控制语言HCL
> 顺序实现
> 流水线

(1) 概念
    一个处理器支持的指令和指令的字节级编码就是这个处理器的ISA

    ISA 在编译器编写者和处理器设计人之间提供了一个抽象概念层，编译器编写者只需要知道允许哪些指令，以及它们是如何编码的；而处理器设计者必须建造出这些指令的处理器。

    可见部分包括：寄存器、存储器、条件码、PC（程序计数器）、程序状态。

(2) 作用
    ISA在编译器编写者（CPU软件）和处理器设计人员（CPU硬件）之间提供了一个抽象层
```

### 原码、反码、补码
```
(1) 原码
    原码就是符号位加上真值的绝对值, 即用第一位表示符号, 其余位表示值
    比如如果是8位二进制:
    [+1]原 = 0000 0001
    [-1]原 = 1000 0001

(2) 反码
    1) 为什么需要反码
        原码最大的问题就在于一个数加上他的相反数不等于零
        例如：0001+1001=1010 (1+(-1)=-2) 0010+1010=1100 (2+(-2)=-4)
        反码的设计思想就是冲着解决这一点，既然一个负数是一个正数的相反数，那我们干脆用一个正数按位取反来表示负数试试
    2) 什么是反码
        正数的反码还是等于原码
        负数的反码就是他的原码除符号位外，按位取反
        [+1] = [00000001]原 = [00000001]反
        [-1] = [10000001]原 = [11111110]反

        0001+1110=1111 （1+（-1）= - 0）
        互为相反数相加等于0，解决。虽然是得到的结果是1111也就是-0

(3) 补码
    1) 为什么需要补码
        1 - 1 = [0000 0001]反 + [1111 1110]反 = [1111 1111]反 = [1000 0000]原 = -0

    2) 什么是补码
        正数的补码就是其本身
        负数的补码是在其原码的基础上, 符号位不变, 其余各位取反, 最后+1. (即在反码的基础上+1)
        [+1] = [00000001]原 = [00000001]反 = [00000001]补
        [-1] = [10000001]原 = [11111110]反 = [11111111]补
        
        1-1 = 1 + (-1) = [0000 0001]原 + [1000 0001]原 = [0000 0001]补 + [1111 1111]补 = [0000 0000]补=[0000 0000]原

        (-1) + (-127) = [1000 0001]原 + [1111 1111]原 = [1111 1111]补 + [1000 0001]补 = [1000 0000]补=[1111 1111]原
```

### 图像系统架构
```
https://blog.csdn.net/huoyahuoya/article/details/54708295
https://www.cnblogs.com/liqiu/p/3499582.html
https://blog.csdn.net/u013895853/article/details/81586915
https://blog.csdn.net/youyou1543724847/article/details/84192430 ❗


(1) Windowing system（窗口系统）
    > client-server架构
        server（称作display server，或者windows server、compositor等等）管理所有输入设备，以及用于输出的显示设备
    > x client
        应用程序作为display server的一个client，在自己窗口（window）中运行，并绘制自己的GUI
    > x server
        client的绘图请求，都会提交给display server，display server响应并处理这些请求，以一定的规则混合、叠加，最终在有限的输出资源上
    > x protocol
        display server和自己的client之间，通过某种类型的通信协议交互，该通信协议通常称作display server protocol
    
    X client <--> X protocol <--> X server <--> linux kernel

(2) X Window System
    Windowing System一种实现，X Window 系统广泛的应用于桌面 Linux
    架构
              keyborad mouse screen
                 ↑       ↑     ↑
        +------------------------------+
        |  +------------------------+  |
        |  |        x server        |  |
        |  +------------------------+  |  
        |     ↑          ↑        ↑    | 
        |     ↓          ↓        |    |
        | x client   x client     |    |
        | (browser)  (browser)    |    |
        +-------------------------|----+
                                  |
                                 net  
                                  |
                                remote
    注意：
        X只提供实现GUI环境的基本框架，如定义protocol、在显示设备上绘制基本的图形单元（点、线、面等等）、和鼠标键盘等输入设备交互、等等。它并没有实现UI设计所需的button、menu、window title-bar styles等元素，而是由第三方的应用程序提供。


(3) 窗口管理器、GUI工具集、桌面环境及其它
    1) 窗口管理器(application windows)
        负责控制应用程序窗口的布局和外观，使每个应用程序窗口尽量以统一、一致的方式呈现给用户，如针对X的最简单的窗口管理程序–twm（Tab Window Manager）
    2) GUI工具集
        GUI工具集是Windowing system之上的进一步的封装。
        xlib提供给应用程序的API，仅仅可以绘制基本的图形单元（点、线、面等等），这些基本的图形单元
        在xlib基础上封装出一些更为便利的GUI接口，方便应用程序使用，如Microwindows、GTK+、QT等等
    3) 桌面环境
        桌面环境是应用程序级别的封装，通过提供一系列界面一致、操作方式一致的应用程序，使系统以更为友好的方式向用户提供服务。Linux系统比较主流的桌面环境包括GNOME、KDE等

    xlib -> GTK/QT -> GNOME/KDE

(4) 3D渲染、硬件加速、openGL等
    OpenGL只是一个API，它与Applications和Toolkits，应用软件同级
    对上，屏蔽硬件细节，为应用程序提供相对稳定的、平台无关的3D图像处理API
    对下，指引硬件相关的驱动软件，实现3D图像处理相关的功能
```
![系统架构](https://upload.wikimedia.org/wikipedia/commons/c/c2/Linux_Graphics_Stack_2013.svg)

### SaaS PaaS LaaS
```
https://www.zhihu.com/question/20387284

// LaaS(Infrastructure as a service – 基础设施即服务)
    用户可以在云服务提供商提供的基础设施上部署和运行任何软件，包括操作系统和应用软件
    常见的IaaS服务有虚拟机、虚拟网络、以及存储（阿里云、Amazon EC2）

// PaaS(Platform as a service – 平台即服务)
    PaaS给用户提供的能力是使用由云服务提供商支持的编程语言、库、服务以及开发工具来创建、开发应用程序并部署在相关的基础设施上
    常见的PaaS服务有数据库服务、web应用以及容器服务

// SaaS(Software as a Service – 软件即服务)
    给用户提供的能力是使用在云基础架构上运行的云服务提供商的应用程序
    类似的服务有：各类的网盘(Dropbox、百度网盘等)，JIRA，GitLab，qq
```

### PhantomJS
```
PhantomJS浏览器内核，可以在linux运行浏览器，爬虫的终极解决方案
```

### 安全
```
rootkit
```

### 激活 win10
```
slmgr.vbs /upk
slmgr /ipk 2F77B-TNFGY-69QQF-B8YKP-D69TJ
slmgr /skms kms.03k.org
slmgr /ato
```
### 普通文件系统、网络文件系统、分布式文件系统
```
(1) 文件系统
    文件系统对磁盘数据进行基本管理的一个软件层，Windows上用的FAT、NTFS，Linux下的ext4、XFS、btrfs都是常见的文件系统。

(2) 网络文件系统(CIFS、NFS)
    网络文件系统并不定义文件数据是如何在磁盘上面分布的，而是告诉网络中的客户端，文件数据应当如何传输，怎么通过网络访问远端的文件。所以，它实际上是搭建在普通文件系统之上的。提供网络文件服务的设备，需要有一个本地的文件系统（如ext4），然后在启动一个或多个网络文件系统，负责从普通文件系统中读取数据，向外传送。

(3) 分布式文件系统
    它们能把很多台电脑里的数据整合起来，对外表现出一个单一的存储节点，提供服务，实现性能扩展和高可靠性等高级特性。它们实际上也不会直接操作磁盘数据，而是叠加在普通文件系统之上的
```

### 物理存储分类
```
> 开放系统的存储
  > 内置存储
  > 外挂存储
    > 直连式存储(DAS)
    > 网络存储(FAS)
      > 网络接入存储(NAS)
      > 存储区域网络(SAN)

// DAS
  是以服务器为中心的存储架构，存储设备直接连在服务器主机上，然后服务器连在网络上，任何客户端想要访问存储设备上 的资源就必须要通过服器

// SAN
  https://www.zhihu.com/question/24669457/answer/28563178
  它与以太网平行，又名存储区域网络，专门用来给主机连接存储设备使用的网络，使用光纤、铜介质。使用FC协议(也可以使用ip协议)，SAN网络与LAN网相互隔离，不会影响彼此。
  分为FC-SAN和IP-SAN
  > FC-SAN                      IP-SAN
    应用服务器                   应用服务器
    文件系统        LAN          文件系统       LAN
       |                           |
    FC交换机                    GbE交换机
       |           SAN             |          LAN
     RAID RAID                   RAID  RAID

// NAS vs SAN
  > SAN存储设备通过光纤连接，而NAS存储设备通过TCP/IP连接
  > SAN和NAS系统都是可以使用RAID的冗余存储系统
  > SAN针对海量、面向数据块的数据传输,而NAS则提供文件级的数据访问和共享服务（NAS更是一种文件服务）
  > NAS:用户通过TCP/IP协议访问数据,采用业界标准文件共享协议如:NFS(linux)、HTTP、CIFS(windows)实
    SAN:通过专用光纤通道交换机访问数据,采用SCSI、FC-AL接口
  > SAN结构中,文件管理系统(FS)还是分别在每一个应用服务器上;
    NAS则是每个应用服务器通过网络共享协议(如:NFS、CIFS)使用同一个文件管理系统
    可以这样来比作：SAN是一个网络上的磁盘；NAS是一个网络上的文件系统。FC网络上的磁盘叫做SAN,把以太网络上的文件系统称为NAS，我们可以这样简单来理解。

// FC协议
  与tcp/ip平行，理解为SAN网络中的中的tcp/ip协议。遵守OSI模型
  
// NAS NFS
  http://www.voidcn.com/article/p-creinyyp-bs.html
  > NAS是存储类型
  > 常见的NAS有NFS(linux)和CIFS(windows)。
  > NFS是文件系统（一种网络文件系统），也可以理解为网络文件传输协议。就是定义文件数据如何在网络中传输，通过怎样的协议去访问网络端的文件。
    NAS指的是在网络中提供文件服务的设备。
  > 一般的NAS都支持NFS这种协议，当然还会支持CIFS、FTP等多种网络文件传输协议。
  > NFS缺点：局限性、性能、安全性(明文传输)、完整性

// ftp、nfs、smb文件传输协议比较
  协议相同点：都可以 实现文件传输系统
  协议不同点： 
    FTP（File Transfer Protocol，文件传输协议），应用层协议，可跨平台。如其名，只能实现文件传输功能，不能实现一些其他的功能，例如文件系统挂载等功能。

    NFS（Network File System，网路文件系统），工作在内核模式下的，故难以实现跨平台。由于基于文件系统实现，在linux下可实现挂载使用等功能。

    SMB（Service Message Block，服务消息块协议），能够实现Windows和Linux主机之间的文件共享服务，可实现跨平台，在Linux上实现了CIFS（Common Internet File System）协议。
```

### 存储接口类型
```
https://www.infoq.cn/article/virtual-forum-three-basic-issues-about-distributed-storage/

// 分布式存储类型及接口
(1) 对象存储: 也就是通常意义的键值存储，其接口就是简单的GET、PUT、DEL和其他扩展，如七牛、又拍、Swift、S3

(2) 块存储: 这种接口通常以QEMU Driver或者Kernel Module的方式存在，这种接口需要实现Linux的Block Device的接口或者QEMU提供的Block Driver接口，如Sheepdog，AWS的EBS，青云的云硬盘和阿里云的盘古系统，还有Ceph的RBD（RBD是Ceph面向块存储的接口）

(3) 文件存储: 通常意义是支持POSIX接口，它跟传统的文件系统如Ext4是一个类型的，但区别在于分布式存储提供了并行化的能力，如Ceph的CephFS(CephFS是Ceph面向文件存储的接口)，但是有时候又会把GFS，HDFS这种非POSIX接口的类文件存储接口归入此类。

//文件和对象存储都是对块存储的包装

```

### 流媒体
```
1、流媒体
    流媒体是指采用'流式传输'的方式在Internet播放的媒体格式
    流媒体最大的特点就是'边下边播'

2、流式传输
    流式传输分为'实时流式传输'与'顺序流式传输'
    如果视频为直播，即为实时流式传输
    如果视频不是直播，文件通过顺序流发送，即为顺序流式传输

3、视频传输
    将采集到的音频转成原始数据格式'PCM'
    将采集到的视频转成原始数据格式'RGB'或'YUV'
    
    编码视频格式从'RGB'到'H.265'
    编码音频格式从'PCM'到'AAC'

    通过视频传输协议将音视频('H.265'和'AAC')结合成数据包(FLV、TS、RTMP Packet)

4、解复用
    解复用是指从'音频视频信号源'中分流出'单独的音频'与'单独的视频'数据，比如我们将'FLV'解复用会得到'H.264视频数据'和'AAC音频数据'

5、视频传输协议
    应用层：RTSP、RTMP
    传输层：RTCP、RTP、TCP、UDP
    网络层：IP、RSVP

    (1) 资源预定协议RSVP
        属于网络层(IP、RSVP)
        使用RSVP预留一部分网络资源（即带宽），能在一定程度上为流媒体的传输提供QoS

    (2) 实时传输协议RTP和RTCP
        RTP标准定义了两个协议，一个是RTP协议（数据传输协议），另一个是RTCP协议（控制协议）
        1) RTP
            针对多媒体数据流的一种实时传输协议
            RTP协议是建立在UDP协议上的
            RTP本身并没有提供按时发送机制或其他服务质量保证，不保证传送或防止无序传送，也不确定底层网络的可靠性

        2) RTCP
            实时传输控制协议，RTCP为RTP媒体流提供信道外控制
            一般与RTP配合使用

    (3) 实时流协议RTSP
        RTSP是流媒体协议
        RTSP协议是共有协议，并有专门机构做维护
        RTSP在体系结构上位于RTP和RTCP之上
        RTSP协议一般传输的是 ts、mp4 格式的流。
        RTSP传输一般需要 2-3 个通道，命令和数据通道分离
        该协议定义了如何在客户端与服务器之间建立/协商实时流通话

    (4) 实时消息传输协议RTMP
        RTMP是流媒体协议
        RTMP协议是 Adobe 的私有协议，未完全公开
        RTMP协议一般传输的是 flv，f4v 格式流
        RTMP一般在 TCP 1个通道上传输命令和数据
        RTMP是一个协议族，包括基本协议RTMP以及其变种，如RTMPT、RTMPS、RTMPE等
        主要是用于在「FLASH平台」和「流媒体服务器」之间进行音视频通信

    (5) 大部分视频直播使用RTMP的原因
        一些浏览器和Flash不支持RTSP
        国内的CDN对RTMP做过优化，而RTSP没有
        网络中的路由器或防火墙可能对RTSP端口不开放

```